<div id="moduleRegister" class="page">
  <div class="title">
    <h2 fxLayoutAlign="start">{{ "access_security.register" | translate }}</h2>
  </div>

  <div class="content-scroll" *ngIf="moduleForm">
    <form [formGroup]="moduleForm" fxLayout="column">
      <div fxFlex="100" fxLayoutAlign="start" fxLayoutGap="16">
        <mat-form-field fxFlex="20" appearance="outline">
          <mat-label>{{ "access_security.identifier" | translate }}</mat-label>
          <input matInput disabled />
        </mat-form-field>

        <mat-form-field fxFlex="50" appearance="outline">
          <mat-label>{{ "access_security.module_name" | translate }}</mat-label>
          <input matInput placeholder="Nome do MÃ³dulo" formControlName="name" [errorStateMatcher]="matcher"/>
          <mat-error *ngIf="
              moduleForm &&
              moduleForm.controls['name'].hasError('required')
            ">
            {{ "validators.required" | translate }}
          </mat-error>
        </mat-form-field>
        <mat-checkbox class="checkbox" color="primary" fxFlex="15" formControlName="inactive"
          fxLayoutAlign="center start">Inativo</mat-checkbox>
        <div class="button" fxFlex="15" fxLayoutAlign="center">
          <button mat-flat-button color="primary" (click)="saveModule()">
            <mat-icon>save</mat-icon>
          </button>
        </div>
      </div>

    </form>
    <div class="envolti-table mat-elevation-z8" fxLayout="column">
      <table #table mat-table [dataSource]="dataTable" #Table>
        <ng-container matColumnDef="identifier">
          <th mat-header-cell *matHeaderCellDef>
            {{ "access_security.identifier" | translate }}
          </th>
          <td mat-cell *matCellDef="let Module">
            {{ Module.identifier }}
          </td>
        </ng-container>

        <ng-container matColumnDef="moduleName">
          <th mat-header-cell *matHeaderCellDef>
            {{ "access_security.module_name" | translate }}
          </th>
          <td mat-cell *matCellDef="let Module">
            {{ Module.name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="inactive">
          <th mat-header-cell *matHeaderCellDef>
            Status
          </th>
          <td mat-cell *matCellDef="let Module">
            {{ Module.inactive == true ? 'Inativo' : 'Ativo' }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </div>
</div>