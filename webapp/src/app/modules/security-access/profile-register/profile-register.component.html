<div id="profileRegister" class="page">
  <div class="profileRegisterH2">
    <h1 fxLayoutAlign="start">Cadastro de perfis</h1>
  </div>
  <div class="content-scroll" *ngIf="profileForm">
    <form [formGroup]="profileForm" fxLayout="column">
      <div fxFlex="100" fxLayoutGap="16px">
        <mat-form-field fxFlex="20" appearance="outline">
          <mat-label>Identificador</mat-label>
          <input
            matInput
           disabled
          />
        </mat-form-field>
        <mat-form-field fxFlex="70" appearance="outline">
          <mat-label>Nome do Perfil</mat-label>
          <input
            matInput
            placeholder="Nome do Perfil"
            formControlName="name"
          />
        </mat-form-field>
        <div fxFlex="10" fxLayout="row">
          <button class="button-form-config" mat-button color="primary">
            <mat-icon>close</mat-icon>
          </button>
          <button (click)="save()" class="button-form-config" color="primary" mat-flat-button>
            <mat-icon>save</mat-icon>
          </button>
        </div>
      </div>

      <div fxLayout="row" fxFlex="100">
        <mat-tree
          fxFlex="100"
          class="divTree"
          [dataSource]="dataSource"
          [treeControl]="permissionControl"
          class="example-tree"
        >
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <div class="mat-tree-node">
              <button
                mat-icon-button
                matTreeNodeToggle
              >
                <mat-icon class="mat-icon-rtl-mirror">
                  {{
                    permissionControl.isExpanded(node)
                      ? "expand_more"
                      : "chevron_right"
                  }}
                </mat-icon>
              </button>
              <div fxFlex="100" fxLayoutAlign="start center">
                <div fxFlex="50">
                  {{ node.name }}
                </div>
                <div fxFlex="50" fxLayoutAlign="space-between">
                  <p>Acessar</p>
                  <p>Adicionar</p>
                  <p>Alterar</p>
                  <p>Deletar</p>
                </div>
              </div>
            </div>
            <div
              [class.example-tree-invisible]="
                !permissionControl.isExpanded(node)
              "
              role="group"
            >
              <ng-container matTreeNodeOutlet></ng-container>
            </div>
          </mat-nested-tree-node>
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <div fxLayout="row" fxFlex="100" class="permissionGlobal">
              <div fxLayout="row" fxFlex="50" fxLayoutAlign="start center">
                {{ node.name }}
              </div>
              <div fxFlex="50" class="box-check" fxLayoutAlign="space-between center">
                <div FormArray="Acess">
                  <mat-checkbox
                  formControlName="use"
                  class="example-margin"
                ></mat-checkbox>
                </div>


                <mat-checkbox
                  class="example-margin"
                ></mat-checkbox>

                <mat-checkbox
                  class="example-margin"
                ></mat-checkbox>

                <mat-checkbox
                  class="example-margin"
                ></mat-checkbox>
              </div>
            </div>
          </mat-tree-node>
        </mat-tree>
      </div>
    </form>
  </div>
</div>
