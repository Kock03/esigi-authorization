<div id="screenDialog">
  <div class="button-screen-dialog-control">
    <mat-panel-title class="resource-box" fxLayout="row">
      <mat-icon class="icon-ressource-dialog">account_circle</mat-icon>
      <button disabled class="button-resource" mat-button>
        <h2 fxLayoutAlign="start">Cadastro de Telas</h2>
      </button>
      <button (click)="close()" class="cancel-icon" mat-button>
        <mat-icon>cancel</mat-icon>
      </button>
    </mat-panel-title>
  </div>
  <mat-dialog-content
    fxLayout="column"
    fxLayoutAlign="space-between"
    class="mat-typography"
  >
    <form [formGroup]="screenForm" fxLayout="column" class="form-content">
      <div fxFlex="100" >
        <mat-form-field fxFlex="70" appearance="outline">
          <mat-label>Nome da Tela</mat-label>
          <input
            matInput
            placeholder="Nome da tela"
            formControlName="name"
            [errorStateMatcher]="matcher"
          />
          <mat-error
            *ngIf="
              screenForm && screenForm.controls['name'].hasError('required')
            "
          >
            {{ "validators.required" | translate }}
          </mat-error>
        </mat-form-field>

        <div fxFlex="30" class="checkbox">
          <mat-checkbox
            color="primary"
            class="custom-check"
            class="custom-frame"
            formControlName="inactive"
            fxLayoutAlign="center center"
            >Inativo</mat-checkbox
          >
        </div>
      </div>
      <div fxFlex="100" fxLayoutGap="25px">
        <mat-form-field
          fxFlex="80"
          class="example-full-width"
          appearance="outline"
        >
          <mat-label>Módulos</mat-label>
          <input
            type="text"
            placeholder="Módulo"
            aria-label="text"
            #filter
            matInput
            [matAutocomplete]="auto"
            [formControl]="moduleControl"
          />
          <mat-error
          *ngIf="
          moduleControl && moduleControl.hasError('required')
          ">
          {{ "validators.required" | translate }}
        </mat-error>
        <mat-error
          *ngIf="
          moduleControl &&
            !moduleControl.hasError('required') &&
            moduleControl.hasError('incorrect')
          ">
           Escolha uma das opções!
        </mat-error>
          <mat-autocomplete
            autoActiveFirstOption
            #auto="matAutocomplete"
            [displayWith]="displayFn"
          >
            <mat-option *ngFor="let module of filteredModules" [value]="module">
              {{ module.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <div fxFlex="20" fxLayoutAlign="center" class="button-form" fxFlex="10">
          <button
            [disabled]="moduleValid === false || screenForm.invalid"
            (click)="saveScreen()"
            mat-flat-button
            color="primary"
          >
            <mat-icon>save</mat-icon>
          </button>
        </div>
      </div>
    </form>
  </mat-dialog-content>
</div>
